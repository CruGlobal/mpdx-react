query GetDataForTaskModal($accountListId: ID!) {
  accountList(id: $accountListId) {
    id
    taskTagList
  }
  accountListUsers(accountListId: $accountListId, first: 25) {
    nodes {
      id
      user {
        id
        firstName
        lastName
      }
    }
  }
  contacts(accountListId: $accountListId, first: 10) {
    nodes {
      id
      name
    }
  }
}

mutation CreateTask($accountListId: ID!, $attributes: TaskCreateInput!) {
  createTask(
    input: { accountListId: $accountListId, attributes: $attributes }
  ) {
    task {
      ...TaskMutationResponse
    }
  }
}

mutation UpdateTask($accountListId: ID!, $attributes: TaskUpdateInput!) {
  updateTask(
    input: { accountListId: $accountListId, attributes: $attributes }
  ) {
    task {
      ...TaskMutationResponse
    }
  }
}

mutation UpdateTaskLocation($taskId: ID!, $location: String!) {
  updateTaskLocation(input: { taskId: $taskId, location: $location }) {
    id
  }
}

mutation DeleteTask($accountListId: ID!, $id: ID!) {
  deleteTask(input: { accountListId: $accountListId, id: $id }) {
    id
  }
}

fragment TaskMutationResponse on Task {
  id
  activityType
  subject
  startAt
  completedAt
  result
  nextAction
  tagList
  contacts(first: 25) {
    nodes {
      id
      name
    }
  }
  user {
    id
    firstName
    lastName
  }
  notificationTimeBefore
  notificationType
  notificationTimeUnit
}

query GetTaskModalContactsFiltered(
  $accountListId: ID!
  $contactsFilters: ContactFilterSetInput
  $first: Int!
  $after: String
) {
  contacts(
    accountListId: $accountListId
    contactsFilter: $contactsFilters
    first: $first
    after: $after
  ) {
    nodes {
      id
      name
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}
