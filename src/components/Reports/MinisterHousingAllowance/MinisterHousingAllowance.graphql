fragment RequestAttributes on MhaRequestAttributes {
  rentOrOwn
  rentalValue
  furnitureCostsOne
  avgUtilityOne
  mortgageOrRentPayment
  furnitureCostsTwo
  repairCosts
  avgUtilityTwo
  unexpectedExpenses
  overallAmount
  phoneNumber
  emailAddress
  iUnderstandMhaPolicy
  hrApprovedAt
  approvedOverallAmount
  availableDate
  boardApprovedAt
  deadlineDate
  spouseSpecific
  staffSpecific
  submittedAt
  changesRequestedAt
}

query MinistryHousingAllowanceRequests {
  ministryHousingAllowanceRequests {
    nodes {
      id
      personNumber
      updatedAt
      requestAttributes {
        ...RequestAttributes
      }
      status
      user {
        id
        firstName
        lastName
      }
      feedback
    }
  }
}

query MinistryHousingAllowanceRequest($ministryHousingAllowanceRequestId: ID!) {
  ministryHousingAllowanceRequest(id: $ministryHousingAllowanceRequestId) {
    id
    personNumber
    updatedAt
    requestAttributes {
      ...RequestAttributes
    }
    status
    user {
      id
      firstName
      lastName
    }
    feedback
  }
}

mutation CreateHousingAllowanceRequest(
  $requestAttributes: MinistryHousingAllowanceRequestAttributesInput
  $isSpouse: Boolean
) {
  createMinistryHousingAllowanceRequest(
    input: { requestAttributes: $requestAttributes, isSpouse: $isSpouse }
  ) {
    ministryHousingAllowanceRequest {
      id
      status
      personNumber
      requestAttributes {
        ...RequestAttributes
      }
      user {
        id
        firstName
        lastName
      }
    }
  }
}

mutation UpdateMinistryHousingAllowanceRequest(
  $input: MinistryHousingAllowanceRequestUpdateMutationInput!
) {
  updateMinistryHousingAllowanceRequest(input: $input) {
    ministryHousingAllowanceRequest {
      id
      updatedAt
      requestAttributes {
        ...RequestAttributes
      }
    }
  }
}

mutation DeleteMinistryHousingAllowanceRequest(
  $input: MinistryHousingAllowanceRequestDeleteMutationInput!
) {
  deleteMinistryHousingAllowanceRequest(input: $input) {
    id
  }
}

mutation SubmitMinistryHousingAllowanceRequest(
  $input: MinistryHousingAllowanceRequestSubmitMutationInput!
) {
  submitMinistryHousingAllowanceRequest(input: $input) {
    ministryHousingAllowanceRequest {
      requestAttributes {
        ...RequestAttributes
      }
    }
  }
}

mutation DuplicateMinistryHousingAllowanceRequest(
  $input: DuplicateMinistryHousingAllowanceRequestMutationInput!
) {
  duplicateMinistryHousingAllowanceRequest(input: $input) {
    ministryHousingAllowanceRequest {
      id
      requestAttributes {
        ...RequestAttributes
      }
    }
  }
}
