query GetDonationsTable(
  $accountListId: ID!
  $startDate: ISO8601Date
  $endDate: ISO8601Date
) {
  donations(
    accountListId: $accountListId
    donationDate: { max: $endDate, min: $startDate }
  ) {
    nodes {
      ...ExpectedDonationData
    }
  }
  getDesignationDisplayNames(
    accountListId: $accountListId
    startDate: $startDate
    endDate: $endDate
  ) {
    id
    displayName
  }
}

fragment ExpectedDonationData on Donation {
  amount {
    amount
    convertedAmount
    convertedCurrency
    currency
  }
  appeal {
    amount
    amountCurrency
    createdAt
    id
    name
  }
  donationDate
  donorAccount {
    displayName
    id
  }
  designationAccount {
    name
    id
    accountNumber
  }
  id
  paymentMethod
}

query GetAccountListCurrency($accountListId: ID!) {
  accountList(id: $accountListId) {
    currency
  }
}
