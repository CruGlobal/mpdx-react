query GetDonationGraph(
  $accountListId: ID!
  $designationAccountIds: [ID!]
  $periodBegin: ISO8601Date!
) {
  accountList(id: $accountListId) {
    id
    currency
    monthlyGoal
    totalPledges
  }
  reportsDonationHistories(
    accountListId: $accountListId
    designationAccountId: $designationAccountIds
  ) {
    ...DonationGraphHistories
  }
  healthIndicatorData(accountListId: $accountListId, beginDate: $periodBegin) {
    id
    indicationPeriodBegin
    staffEnteredGoal
  }
}

fragment DonationGraphHistories on DonationHistories {
  averageIgnoreCurrent
  periods {
    startDate
    convertedTotal
    totals {
      currency
      convertedAmount
    }
  }
}
