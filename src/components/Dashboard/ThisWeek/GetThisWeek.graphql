query GetThisWeek(
  $accountListId: ID!
  $endOfDay: ISO8601DateTime!
  $today: ISO8601Date!
  $twoWeeksFromNow: ISO8601Date!
  $twoWeeksAgo: ISO8601Date!
) {
  accountList(id: $accountListId) {
    id
    primaryAppeal {
      id
      name
      amount
      pledgesAmountTotal
      pledgesAmountProcessed
      amountCurrency
    }
  }
  dueTasks: tasks(
    accountListId: $accountListId
    first: 3
    startAt: { max: $endOfDay }
    completed: false
  ) {
    nodes {
      id
      subject
      activityType
      startAt
      completedAt
      contacts {
        nodes {
          name
        }
      }
    }
    totalCount
  }
  prayerRequestTasks: tasks(
    accountListId: $accountListId
    first: 3
    activityType: PRAYER_REQUEST
    completed: false
  ) {
    nodes {
      id
      subject
      activityType
      startAt
      completedAt
      contacts {
        nodes {
          name
        }
      }
    }
    totalCount
  }
  latePledgeContacts: contacts(
    accountListId: $accountListId
    first: 3
    lateAt: { max: $today }
    status: PARTNER_FINANCIAL
    pledgeReceived: true
  ) {
    nodes {
      id
      name
      lateAt
    }
    totalCount
  }
  reportsPeopleWithBirthdays(
    accountListId: $accountListId
    range: "1m"
    endDate: $twoWeeksFromNow
  ) {
    periods {
      people {
        id
        birthdayDay
        birthdayMonth
        firstName
        lastName
        parentContact {
          id
          name
        }
      }
    }
  }
  reportsPeopleWithAnniversaries(
    accountListId: $accountListId
    range: "1m"
    endDate: $twoWeeksFromNow
  ) {
    periods {
      people {
        id
        anniversaryDay
        anniversaryMonth
        parentContact {
          id
          name
        }
      }
    }
  }
  recentReferrals: contacts(
    accountListId: $accountListId
    first: 3
    referrer: ["any"]
    createdAt: { min: $twoWeeksAgo }
  ) {
    nodes {
      id
      name
    }
    totalCount
  }
  onHandReferrals: contacts(
    accountListId: $accountListId
    first: 3
    status: [
      NEVER_CONTACTED
      ASK_IN_FUTURE
      CULTIVATE_RELATIONSHIP
      CONTACT_FOR_APPOINTMENT
    ]
    referrer: ["any"]
  ) {
    nodes {
      id
      name
    }
    totalCount
  }
}
