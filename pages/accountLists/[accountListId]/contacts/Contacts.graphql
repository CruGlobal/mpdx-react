query Contacts(
  $accountListId: ID!
  $contactsFilters: ContactFilterSetInput
  $after: String
  $first: Int
) {
  contacts(
    accountListId: $accountListId
    contactsFilter: $contactsFilters
    after: $after
    first: $first
  ) {
    nodes {
      ...contactFragment
    }
    totalCount
    pageInfo {
      endCursor
      hasNextPage
    }
  }
  allContacts: contacts(accountListId: $accountListId, after: $after) {
    totalCount
  }
}

fragment contactFragment on Contact {
  id
  avatar
  ...ContactRow
}

query ContactFilters($accountListId: ID!) {
  accountList(id: $accountListId) {
    id
    contactFilterGroups {
      ...FilterPanelGroup
    }
    partnerGivingAnalysisFilterGroups {
      ...FilterPanelGroup
    }
  }
  userOptions {
    ...UserOption
  }
}
